{"uid":"5a5cdc87af12a1c6","name":"test_oulu_search","fullName":"Test_features_automation_allure#test_oulu_search","historyId":"d6adfdc990708fdc1affc00e64044029","time":{"start":1757864174373,"stop":1757864200564,"duration":26191},"description":"Test search functionality for Oulu","descriptionHtml":"<p>Test search functionality for Oulu</p>\n","status":"failed","statusMessage":"Failed: Oulu Vihreäsaari weather data not loaded","statusTrace":"driver = <appium.webdriver.webdriver.WebDriver (session=\"cdd1b7e7-5bcc-4533-b1f7-2cba91893997\")>, app_setup = None\n\n    @allure.feature(\"Search Functionality\")\n    @allure.story(\"Search for Oulu\")\n    def test_oulu_search(driver, app_setup):\n        \"\"\"Test search functionality for Oulu\"\"\"\n        print(\"Testing search functionality...\")\n    \n        # Tap and input Oulu text to field\n        driver.tap([(400, 780)])\n        time.sleep(3)\n        driver.execute_script('mobile: shell', {\n            'command': 'input',\n            'args': ['text', 'Oulu'],\n            'includeStderr': True,\n            'timeout': 5000\n        })\n        save_screenshot(driver, \"Oulu_weather_stations_list\", failed=False)\n    \n        # Test Oulu locations - nyt käytämme erillisiä assert-lauseita jokaiselle testille\n        with allure.step(\"Test Oulu Vihreäsaari\"):\n>           result1 = tap_and_test_location(driver, \"Oulu Vihreäsaari\", \"Oulu Vihreäsaari\", \"Weather_oulu_vihreasaari\")\n\nTest_features_automation_allure.py:160: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ndriver = <appium.webdriver.webdriver.WebDriver (session=\"cdd1b7e7-5bcc-4533-b1f7-2cba91893997\")>\naccessibility_id = 'Oulu Vihreäsaari', location_name = 'Oulu Vihreäsaari'\nscreenshot_prefix = 'Weather_oulu_vihreasaari'\n\n    def tap_and_test_location(driver, accessibility_id, location_name, screenshot_prefix):\n        \"\"\"Tap location and test if temperature is visible.\"\"\"\n        with allure.step(f\"Test location: {location_name}\"):\n            try:\n                print(f\"Trying to find and click: {location_name}\")\n                element = WebDriverWait(driver, 10).until(\n                    EC.element_to_be_clickable((AppiumBy.ACCESSIBILITY_ID, accessibility_id))\n                )\n                element.click()\n                print(f\"{location_name} - element found and clicked successfully.\")\n    \n                # Wait for weather data to load\n                print(\"Waiting for weather data to load...\")\n                time.sleep(10)\n    \n                # Check if \"LÄMPÖTILA\" is visible\n                if check_element(driver, AppiumBy.ACCESSIBILITY_ID, \"LÄMPÖTILA\", 10):\n                    print(\"Temperature element found. Weather data loaded successfully.\")\n                    save_screenshot(driver, f\"{screenshot_prefix}_ok\", failed=False)\n                    return True\n                else:\n                    print(\"Temperature element not found. Weather data loading failed.\")\n                    save_screenshot(driver, f\"{screenshot_prefix}_fail\", failed=True)\n>                   pytest.fail(f\"{location_name} weather data not loaded\")  # Lisätty pytest.fail\nE                   Failed: Oulu Vihreäsaari weather data not loaded\n\nTest_features_automation_allure.py:122: Failed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"driver","time":{"start":1757864164930,"stop":1757864166937,"duration":2007},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"stepsCount":0},{"name":"app_setup","time":{"start":1757864166937,"stop":1757864174372,"duration":7435},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"stepsCount":0}],"testStage":{"description":"Test search functionality for Oulu","status":"failed","statusMessage":"Failed: Oulu Vihreäsaari weather data not loaded","statusTrace":"driver = <appium.webdriver.webdriver.WebDriver (session=\"cdd1b7e7-5bcc-4533-b1f7-2cba91893997\")>, app_setup = None\n\n    @allure.feature(\"Search Functionality\")\n    @allure.story(\"Search for Oulu\")\n    def test_oulu_search(driver, app_setup):\n        \"\"\"Test search functionality for Oulu\"\"\"\n        print(\"Testing search functionality...\")\n    \n        # Tap and input Oulu text to field\n        driver.tap([(400, 780)])\n        time.sleep(3)\n        driver.execute_script('mobile: shell', {\n            'command': 'input',\n            'args': ['text', 'Oulu'],\n            'includeStderr': True,\n            'timeout': 5000\n        })\n        save_screenshot(driver, \"Oulu_weather_stations_list\", failed=False)\n    \n        # Test Oulu locations - nyt käytämme erillisiä assert-lauseita jokaiselle testille\n        with allure.step(\"Test Oulu Vihreäsaari\"):\n>           result1 = tap_and_test_location(driver, \"Oulu Vihreäsaari\", \"Oulu Vihreäsaari\", \"Weather_oulu_vihreasaari\")\n\nTest_features_automation_allure.py:160: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ndriver = <appium.webdriver.webdriver.WebDriver (session=\"cdd1b7e7-5bcc-4533-b1f7-2cba91893997\")>\naccessibility_id = 'Oulu Vihreäsaari', location_name = 'Oulu Vihreäsaari'\nscreenshot_prefix = 'Weather_oulu_vihreasaari'\n\n    def tap_and_test_location(driver, accessibility_id, location_name, screenshot_prefix):\n        \"\"\"Tap location and test if temperature is visible.\"\"\"\n        with allure.step(f\"Test location: {location_name}\"):\n            try:\n                print(f\"Trying to find and click: {location_name}\")\n                element = WebDriverWait(driver, 10).until(\n                    EC.element_to_be_clickable((AppiumBy.ACCESSIBILITY_ID, accessibility_id))\n                )\n                element.click()\n                print(f\"{location_name} - element found and clicked successfully.\")\n    \n                # Wait for weather data to load\n                print(\"Waiting for weather data to load...\")\n                time.sleep(10)\n    \n                # Check if \"LÄMPÖTILA\" is visible\n                if check_element(driver, AppiumBy.ACCESSIBILITY_ID, \"LÄMPÖTILA\", 10):\n                    print(\"Temperature element found. Weather data loaded successfully.\")\n                    save_screenshot(driver, f\"{screenshot_prefix}_ok\", failed=False)\n                    return True\n                else:\n                    print(\"Temperature element not found. Weather data loading failed.\")\n                    save_screenshot(driver, f\"{screenshot_prefix}_fail\", failed=True)\n>                   pytest.fail(f\"{location_name} weather data not loaded\")  # Lisätty pytest.fail\nE                   Failed: Oulu Vihreäsaari weather data not loaded\n\nTest_features_automation_allure.py:122: Failed","steps":[{"name":"Test Oulu Vihreäsaari","time":{"start":1757864177962,"stop":1757864200564,"duration":22602},"status":"failed","statusMessage":"Failed: Oulu Vihreäsaari weather data not loaded\n","statusTrace":"  File \"C:\\Projects\\sesaa\\Test_features_automation_allure.py\", line 160, in test_oulu_search\n    result1 = tap_and_test_location(driver, \"Oulu Vihreäsaari\", \"Oulu Vihreäsaari\", \"Weather_oulu_vihreasaari\")\n              ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Projects\\sesaa\\Test_features_automation_allure.py\", line 122, in tap_and_test_location\n    pytest.fail(f\"{location_name} weather data not loaded\")  # Lisätty pytest.fail\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Teppo\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\_pytest\\outcomes.py\", line 198, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n","steps":[{"name":"Test location: Oulu Vihreäsaari","time":{"start":1757864177962,"stop":1757864200563,"duration":22601},"status":"failed","statusMessage":"Failed: Oulu Vihreäsaari weather data not loaded\n","statusTrace":"  File \"C:\\Projects\\sesaa\\Test_features_automation_allure.py\", line 122, in tap_and_test_location\n    pytest.fail(f\"{location_name} weather data not loaded\")  # Lisätty pytest.fail\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Teppo\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\_pytest\\outcomes.py\", line 198, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n","steps":[],"attachments":[{"uid":"63eab42d6a664872","name":"Weather_oulu_vihreasaari_fail_failed","source":"63eab42d6a664872.png","type":"image/png","size":475447}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false,"stepsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false,"stepsCount":1}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false,"stepsCount":2},"afterStages":[{"name":"driver::0","time":{"start":1757864200569,"stop":1757864200881,"duration":312},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"stepsCount":0},{"name":"app_setup::0","time":{"start":1757864200569,"stop":1757864200569,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"stepsCount":0}],"labels":[{"name":"feature","value":"Search Functionality"},{"name":"story","value":"Search for Oulu"},{"name":"suite","value":"Test_features_automation_allure"},{"name":"host","value":"DESKTOP-0K69VMV"},{"name":"thread","value":"17364-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Test_features_automation_allure"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"5a5cdc87af12a1c6.json","parameterValues":[]}